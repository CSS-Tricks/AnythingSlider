/*
 * AnythingSlider Video Controller 1.5.3 beta minified
 * for AnythingSlider v1.6+
 * By Rob Garrison (aka Mottie & Fudgey)
 * Dual licensed under the MIT and GPL licenses.
 */
;(function(d){d.fn.anythingSliderVideo=function(b){var c={videoId:"asvideo",wmode:"opaque",youtubeAutoLoad:!0,youtubeParams:{modestbranding:1,iv_load_policy:3,fs:1}};return this.each(function(){var a,e,h,g,k,f=d(this).data("AnythingSlider");if(f){"undefined"==typeof f.video?(a=f.video={},a.options=d.extend({},c,b),a.hasSwfo="undefined"!==typeof swfobject&&swfobject.hasOwnProperty("embedSWF")&&"function"===typeof swfobject.embedSWF&&swfobject.hasFlashPlayerVersion("1"),a.list={},a.hasVid=!1,a.hasEmbed=
!1,a.services=d.fn.anythingSliderVideo.services,a.hasEmbedCount=0,a.hasiframeCount=0):a=f.video;a.$items=f.$items.filter(":not(.cloned)");for(h in a.services)"string"===typeof h&&(g=a.services[h].selector,a.$items.find(g).each(function(){e=d(this);k=e.closest(".panel");1!=k.data("AnythingSliderVideoInitialized")&&(e.attr("id",a.options.videoId+d.fn.anythingSliderVideo.videoIndex),a.list[d.fn.anythingSliderVideo.videoIndex]={id:a.options.videoId+d.fn.anythingSliderVideo.videoIndex++,panel:k[0],service:h,
selector:g,status:-1,isInitialized:!1},k.data("AnythingSliderVideoInitialized",!0),a.hasVid=!0,g.match("embed|object")?(a.hasEmbed=!0,a.hasEmbedCount++):g.match("iframe")&&a.hasiframeCount++)}));d.each(a.list,function(c,b){var m,e,g,h,k=d(b.panel).find(b.selector),l=a.services[b.service],p=l.api&&l.api.initParam||"",n=l.api&&l.api.playerId||"";a.hasEmbed&&a.hasSwfo&&b.selector.match("embed|object")&&!b.isInitialized?k.each(function(){m=d(this);e="OBJECT"===d(this).parent()[0].tagName?d(this).parent():
d(this);g="EMBED"===e[0].tagName?e.attr("src"):e.find("embed").attr("src")||e.children().filter("[name=movie]").attr("value");h=d.extend(!0,{},{flashvars:null,params:{allowScriptAccess:"always",wmode:a.options.wmode||f.options.addWmodeToObject,allowfullscreen:!0},attr:{"class":e.attr("class"),style:e.attr("style"),"data-url":g}},l.embedOpts);e.wrap('<div id="'+b.id+'"></div>');swfobject.embedSWF(g+p+(n?n+b.id:""),b.id,e.attr("width"),e.attr("height"),"10",null,h.flashvars,h.params,h.attr,function(){l.hasOwnProperty("init")&&
l.init(f,m,c);c>=a.hasEmbedCount&&f.$el.trigger("swf_completed",f)})}):b.selector.match("iframe")&&!b.isInitialized&&k.each(function(){var a=d(this);l.hasOwnProperty("init")&&l.init(f,a,c)});b.isInitialized=!0});a.gup=function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(b||window.location.href);return null===c?"":c[1]};a.postMsg=function(a,b){var c=d("#"+b);c.length&&c[0].contentWindow.postMessage(a,c.attr("src").split("?")[0])};a.message=function(b){if(b.data&&
!/infoDelivery/g.test(b.data)){var c=d.parseJSON(b.data);d.each(a.list,function(b,d){a.services[a.list[b].service].hasOwnProperty("message")&&a.services[a.list[b].service].message(f,c)})}};a.control=function(b){var c,e=a.list,g="pause"===b?f.$lastPage[0]:f.$currentPage[0],h=!1;for(c=0;c<d.fn.anythingSliderVideo.videoIndex;c++)e[c]&&e[c].panel===g&&a.services[e[c].service].hasOwnProperty(b)&&(h=a.services[e[c].service][b](f,d("#"+e[c].id),c));return h};a.bindFrames=function(b){window.addEventListener?
window.addEventListener(b,a.message,!1):window.attachEvent(/^on/.test(b)?b:"on"+b,a.message,!1)};a.hasiframeCount&&a.bindFrames("message");f.$el.bind("slide_init",function(){a.control("pause")}).bind("slide_complete",function(){a.control("cont")});a.isVideoPlayingOrig=f.options.isVideoPlaying;f.options.isVideoPlaying=function(){return a.control("isPlaying")||a.isVideoPlayingOrig&&a.isVideoPlayingOrig()};if("function"===typeof a.options.onVideoInitialized)a.options.onVideoInitialized(f)}})};d.fn.anythingSliderVideo.videoIndex=
0;d.fn.anythingSliderVideo.services={video:{selector:"video",cont:function(b,c,a){b.options.resumeOnVisible&&c.length&&c[0].paused&&0<c[0].currentTime&&!c[0].ended&&c[0].play()},pause:function(b,c){d("video").each(function(){"undefined"!==typeof this.pause&&this.pause()})},isPlaying:function(b,c,a){return!c.length||"undefined"===typeof c[0].pause||c[0].paused||c[0].ended?!1:!0}},vimeo1:{selector:"iframe[src*=vimeo]",init:function(b,c,a){var d=c.attr("src");c.attr("src",function(a,g){g=g.replace("http:",
"https:");return g+(d.match(/\?/g)?"":"?")+"&wmode="+(b.video.options.wmode||b.options.addWmodeToObject)+"&api=1&player_id="+c[0].id})},cont:function(b,c,a){b.options.resumeOnVisible&&"pause"===b.video.list[a].status&&b.video.postMsg('{"method":"play"}',c[0].id)},pause:function(b,c){d("iframe[src*=vimeo]").each(function(){b.video.postMsg('{"method":"pause"}',this.id)})},message:function(b,c){var a,d=c.player_id||"";""!==d&&(a=d.replace(b.video.options.videoId,""),"ready"===c.event&&(b.video.postMsg('{"method":"addEventListener","value":"play"}',
d),b.video.postMsg('{"method":"addEventListener","value":"pause"}',d),b.video.postMsg('{"method":"addEventListener","value":"finish"}',d)),b.video.list[a]&&(b.video.list[a].status=c.event))},isPlaying:function(b,c,a){return"play"===b.video.list[a].status?!0:!1}},vimeo2:{selector:"object[data-url*=vimeo], embed[src*=vimeo]",embedOpts:{flashvars:{api:1}},cont:function(b,c,a){b.options.resumeOnVisible&&"function"===typeof c[0].api_play&&c[0].api_paused()&&0!==c[0].api_getCurrentTime()&&2<c[0].api_getDuration()-
c[0].api_getCurrentTime()&&c[0].api_play()},pause:function(b,c){d("object[data-url*=vimeo], embed[src*=vimeo]").each(function(){var a="EMBED"===this.tagName?d(this).parent()[0]:this;"function"===typeof a.api_pause&&a.api_pause()})},isPlaying:function(b,c,a){return"function"!==typeof c[0].api_paused||c[0].api_paused()?!1:!0}},youtube1:{selector:"iframe[src*=youtube]",init:function(b,c,a){!d.fn.anythingSliderVideo.youTubeLoaded&&b.video.options.youtubeAutoLoad&&d.getScript("https://www.youtube.com/iframe_api",
function(a,b,c){d.fn.anythingSliderVideo.youTubeLoaded=!0});var e=0,h=setInterval(function(){if(d.fn.anythingSliderVideo.youTubeReady){var g=c[0].id,k=c.attr("src").split("embed/")[1],f=b.video.options.youtubeParams;f.wmode=b.video.options.wmode||b.options.addWmodeToObject||"opaque";c.wrap('<div id="'+g+'"/>').attr("id","");b.video.list[a].player=new YT.Player(g,{height:"100%",width:"100%",videoId:k,playerVars:f,events:{onReady:function(c){b.video.list[a].status=c.data},onStateChange:function(c){b.video.list[a].status=
c.data}}});clearInterval(h)}60<++e&&clearInterval(h)},1E3)},cont:function(b,c,a){b.options.resumeOnVisible&&2===b.video.list[a].status&&b.video.list[a].player&&b.video.list[a].player.playVideo()},pause:function(b,c,a){b.video.list[a].player&&b.video.list[a].player.pauseVideo()},isPlaying:function(b,c,a){b=b.video.list[a].status;return 1===b||2<b?!0:!1}},youtube2:{selector:"object[data-url*=youtube], embed[src*=youtube]",api:{initParam:"&enablejsapi=1",playerId:"&iv_load_policy=3&version=3&playerapiid="},
cont:function(b,c,a){b.options.resumeOnVisible&&c.length&&"function"===typeof c[0].getPlayerState&&0<c[0].getPlayerState()&&c[0].playVideo()},pause:function(b,c){d("object[data-url*=youtube], embed[src*=youtube]").each(function(){var a="EMBED"===this.tagName?d(this).parent()[0]:this;"function"===typeof a.getPlayerState&&0<a.getPlayerState()&&a.pauseVideo()})},isPlaying:function(b,c){return"function"===typeof c[0].getPlayerState&&(1===c[0].getPlayerState()||2<c[0].getPlayerState())?!0:!1}}}})(jQuery);
function onYouTubeIframeAPIReady(d){$.fn.anythingSliderVideo.youTubeReady=!0};
