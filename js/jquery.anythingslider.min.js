/*
 AnythingSlider v1.3.4

 By Chris Coyier: http://css-tricks.com
 with major improvements by Doug Neiner: http://pixelgraphics.us/
 based on work by Remy Sharp: http://jqueryfordesigners.com/

 To use the navigationFormatter function, you must have a function that
 accepts two paramaters, and returns a string of HTML text.

 index = integer index (1 based);
 panel = jQuery wrapped LI item this tab references
 @return = Must return a string of HTML/Text

 navigationFormatter: function(index, panel){
  return index + " Panel"; // This would have each tab with the text 'X Panel' where X = index
 }
*/

(function($){__anythingSliderRunTimes=0;$.anythingSlider=function(f,g){var a=this;__anythingSliderRunTimes++;a.runTimes=__anythingSliderRunTimes;a.$el=$(f).wrap('<div class="anythingSlider"><div class="anythingWindow" /></div>').closest("div.anythingSlider");a.currentPage=1;a.timer=null;a.playing=false;a.$el.data("AnythingSlider",a);a.init=function(){a.options=$.extend({},$.anythingSlider.defaults,g);a.$wrapper=a.$el.find("> div");a.$slider=a.$wrapper.find("> ul");a.$items=a.$slider.find("> li");a.$single=
a.$items.filter(":first");a.$objects=a.$items.find("object");if(a.options.width){a.$el.css("width",a.options.width);a.$wrapper.css("width",a.options.width);a.$items.css("width",a.options.width)}if(a.options.height){a.$el.css("height",a.options.height);a.$wrapper.css("height",a.options.height);a.$items.css("height",a.options.height)}if(a.$objects.length){a.$objects.find("embed").andSelf().css({width:"100%",height:"100%"});a.$objects.each(function(){$(this).find("embed[src*=youtube]").length&&$(this).wrap('<div id="yt-temp"></div>').find("embed[src*=youtube]").attr("src",
function(d,c){return c+"&enablejsapi=1&version=3"}).end().find("param[value*=youtube]").attr("value",function(d,c){return c+"&enablejsapi=1&version=3"}).end().detach().appendTo($("#yt-temp")).unwrap()})}a.singleWidth=a.$single.outerWidth();a.pages=a.$items.length;if(a.pages===1){a.options.autoPlay=false;a.options.buildNavigation=false;a.options.buildArrows=false}a.buildNavigation();var b=a.$items.filter(":last").clone().addClass("cloned");a.$items.filter(":first").before(b.attr("id",function(d,c){return c==
""?"":c+"-cloned"}));b=a.$items.filter(":first").clone().addClass("cloned");a.$items.filter(":last").after(b.attr("id",function(d,c){return c==""?"":c+"-cloned"}));a.$items=a.$slider.find("> li");a.options.buildArrows&&a.buildNextBackButtons();if(a.options.autoPlay){a.playing=!a.options.startStopped;a.buildAutoPlay()}a.options.pauseOnHover&&a.$el.hover(function(){a.clearTimer()},function(){a.startStop(a.playing)});if(a.options.hashTags===true&&!a.gotoHash()||a.options.hashTags===false)a.setCurrentPage(1)};
a.gotoPage=function(b,d){if(d!==true)d=false;d||a.startStop(false);if(typeof b==="undefined"||b===null){b=1;a.setCurrentPage(1)}a.options.stopAtEnd&&b==a.pages&&a.startStop(false);if(b>a.pages+1)b=a.pages;if(b<0)b=1;var c=a.singleWidth*(b<a.currentPage?-1:1)*Math.abs(a.currentPage-b),e;a.$objects.length&&a.$objects.each(function(){e=$(this).find("embed[src*=youtube]");if(e.length)try{e[0].getPlayerState()>0&&e[0].pauseVideo()}catch(h){}});a.$wrapper.filter(":not(:animated)").animate({scrollLeft:"+="+
c},a.options.animationTime,a.options.easing,function(){if(b===0){a.$wrapper.scrollLeft(a.singleWidth*a.pages);b=a.pages}else if(b>a.pages){a.$wrapper.scrollLeft(a.singleWidth);b=1}a.setCurrentPage(b);if(a.$objects.length){e=a.$items.eq(a.currentPage).find("embed[src*=youtube]");if(e.length)try{e[0].getPlayerState()>0&&e[0].playVideo()}catch(h){}}})};a.setCurrentPage=function(b,d){if(a.options.buildNavigation){a.$nav.find(".cur").removeClass("cur");a.$nav.find("a").eq(b-1).addClass("cur")}d!==false&&
a.$wrapper.scrollLeft(a.singleWidth*b);a.currentPage=b};a.goForward=function(b){if(b!==true)b=false;a.gotoPage(a.currentPage+1,b)};a.goBack=function(){a.gotoPage(a.currentPage-1)};a.gotoHash=function(){var b=window.location.hash.match(/^#?panel(\d+)-(\d+)$/);if(b)if(parseInt(b[1],10)==a.runTimes){b=parseInt(b[2],10);if(a.$items.filter(":eq("+b+")").length!==0){a.setCurrentPage(b);return true}}return false};a.buildNavigation=function(){a.$nav=$('<ul class="thumbNav" />').appendTo(a.$el);a.options.buildNavigation&&
a.pages>1&&a.$items.each(function(b){var d=b+1;b=$("<a href='#'></a>");typeof a.options.navigationFormatter=="function"?b.html(a.options.navigationFormatter(d,$(this))):b.text(d);b.click(function(c){a.gotoPage(d);a.options.hashTags&&a.setHash("panel"+a.runTimes+"-"+d);c.preventDefault()});$(a.$nav).append(b);b.wrap("<li />")})};a.buildNextBackButtons=function(){var b=$('<span class="arrow forward"><a href="#">'+a.options.forwardText+"</a></span>"),d=$('<span class="arrow back"><a href="#">'+a.options.backText+
"</a></span>");d.click(function(c){a.goBack();c.preventDefault()});b.click(function(c){a.goForward();c.preventDefault()});$(a.$el).prepend(b).prepend(d);$(window).keyup(function(c){switch(c.which){case 39:a.goForward();c.preventDefault();break;case 37:a.goBack();break}})};a.buildAutoPlay=function(){a.$startStop=$("<a href='#' class='start-stop'></a>").html(a.playing?a.options.stopText:a.options.startText);a.$el.append(a.$startStop);a.$startStop.click(function(b){a.startStop(!a.playing);a.playing&&
a.goForward(true);b.preventDefault()});a.startStop(a.playing)};a.startStop=function(b){if(b!==true)b=false;a.playing=b;if(a.options.autoPlay)a.$startStop.toggleClass("playing",b).html(b?a.options.stopText:a.options.startText);if(b){a.clearTimer();a.timer=window.setInterval(function(){a.goForward(true)},a.options.delay)}else a.clearTimer()};a.clearTimer=function(){a.timer&&window.clearInterval(a.timer)};a.setHash=function(b){if(typeof window.location.hash!=="undefined"){if(window.location.hash!==b)window.location.hash=
b}else if(location.hash!==b)location.hash=b;return b};a.init()};$.anythingSlider.defaults={easing:"swing",autoPlay:true,startStopped:false,delay:3E3,animationTime:600,hashTags:true,buildNavigation:true,pauseOnHover:true,startText:"Start",stopText:"Stop",navigationFormatter:null,buildArrows:true,forwardText:"&raquo;",backText:"&laquo;",width:null,height:null};$.fn.anythingSlider=function(f){if(typeof f=="object")return this.each(function(){new $.anythingSlider(this,f)});else if(typeof f=="number")return this.each(function(){var g=
$(this).data("AnythingSlider");g&&g.gotoPage(f)})}})(jQuery);
